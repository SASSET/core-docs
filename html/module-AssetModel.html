<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>AssetModel - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AccountLib.html">AccountLib</a><ul class='methods'><li data-type='method'><a href="module-AccountLib.html#.getAccount">getAccount</a></li><li data-type='method'><a href="module-AccountLib.html#.setAccount">setAccount</a></li></ul></li><li><a href="module-AssetModel.html">AssetModel</a><ul class='methods'><li data-type='method'><a href="module-AssetModel.html#.create">create</a></li><li data-type='method'><a href="module-AssetModel.html#.delete">delete</a></li><li data-type='method'><a href="module-AssetModel.html#.findAsset">findAsset</a></li><li data-type='method'><a href="module-AssetModel.html#.findAssets">findAssets</a></li><li data-type='method'><a href="module-AssetModel.html#.findByIdentifier">findByIdentifier</a></li><li data-type='method'><a href="module-AssetModel.html#.get">get</a></li><li data-type='method'><a href="module-AssetModel.html#.getPartitionsAssets">getPartitionsAssets</a></li><li data-type='method'><a href="module-AssetModel.html#.setIdentifiers">setIdentifiers</a></li><li data-type='method'><a href="module-AssetModel.html#createRevisionHistory">createRevisionHistory</a></li><li data-type='method'><a href="module-AssetModel.html#delete">delete</a></li><li data-type='method'><a href="module-AssetModel.html#lastRevision">lastRevision</a></li><li data-type='method'><a href="module-AssetModel.html#~delete">delete</a></li><li data-type='method'><a href="module-AssetModel.html#~set">set</a></li><li data-type='method'><a href="module-AssetModel.html#~value">value</a></li></ul></li><li><a href="module-PartitionModel.html">PartitionModel</a></li></ul><h3>Namespaces</h3><ul><li><a href="Gizmo.html">Gizmo</a><ul class='methods'><li data-type='method'><a href="Gizmo.html#.stripCommonRoot">stripCommonRoot</a></li><li data-type='method'><a href="Gizmo.html#.summarizePaths">summarizePaths</a></li><li data-type='method'><a href="Gizmo.html#.valueTypes">valueTypes</a></li></ul></li><li><a href="mongoose-helper.html">mongoose-helper</a><ul class='methods'><li data-type='method'><a href="mongoose-helper.html#.file2model">file2model</a></li><li data-type='method'><a href="mongoose-helper.html#.getCallerModelName">getCallerModelName</a></li><li data-type='method'><a href="mongoose-helper.html#.getFileStack">getFileStack</a></li><li data-type='method'><a href="mongoose-helper.html#.getLastCb">getLastCb</a></li><li data-type='method'><a href="mongoose-helper.html#.getObjectId">getObjectId</a></li><li data-type='method'><a href="mongoose-helper.html#.getObjectIds">getObjectIds</a></li><li data-type='method'><a href="mongoose-helper.html#.isObjectId">isObjectId</a></li><li data-type='method'><a href="mongoose-helper.html#.isPopulated">isPopulated</a></li><li data-type='method'><a href="mongoose-helper.html#.typeof">typeof</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">AssetModel</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Asset Mongoose Model - Used to create/edit/delete any Asset documents, as well as MDB documents in the Field, 
Partition and Revision collections that may be associated to the the Asset(s)</div>
        

        
            




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://mongoosejs.com/">Mongoose NodeJS Module</a></li>
        
            <li><a href="http://mongoosejs.com/docs/documents.html">Mongoose Documents</a></li>
        
            <li><a href="http://mongoosejs.com/docs/middleware.html">Mongoose Middleware</a></li>
        
            <li><a href="http://mongoosejs.com/docs/guide.html">Mongoose Schema</a></li>
        
            <li><a href="http://mongoosejs.com/docs/schematypes.html">Mongoose Schema Types</a></li>
        
            <li><a href="http://bluebirdjs.com/docs/api-reference.html">Bluebird Promise API</a></li>
        </ul>
    </dd>
    

    
</dl>





























        
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="identifier"><span class="type-signature">(readonly) </span>identifier<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line213">line 213</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Retrieve the primary value of an asset. The main goal of this is to quickly be able to reference
assets by their primary value, if one is set. This defaults back to the assets _id string

NOTE: For the identifier virtual property to work properly, the _partition and _partition._fields
      both need to be populated, otherwise, the assets ID will be returned
</div>







    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// In partition without a primary field, the identifier defaults to the documents ObjectID
 AssetModel.create( partitionId, ( error, assetDoc ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `The asset ${assetDoc.identifier} was created successfully` ) 
     // => The asset 56d0819b655baf4a4a7f9cad was created successfully
 })</code></pre>

    <pre class="prettyprint source linenums"><code>// In a partition with a primary field, the primaryField value is the identifier
 AssetModel.create( partitionId, {
     primaryAttribute: 'asset-123'
 }, ( error, assetDoc ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `The asset ${assetDoc.identifier} was created successfully` ) 
     // => The asset asset-123 was created successfully
 })</code></pre>



        
            
<h4 class="name" id="~AssetException"><span class="type-signature">(inner, readonly) </span>AssetException<span class="type-signature"> :Error</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of error encountered</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>code</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Code of error encountered</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Message of error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>toString</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Returns the error name and message</td>
        </tr>

    
    </tbody>
</table>






<div class="description">
    AssetError exceptions
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Error</span>


        </li>
    </ul>






        
            
<h4 class="name" id="~AssetModel"><span class="type-signature">(inner) </span>AssetModel<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>












        
            
<h4 class="name" id="~AssetSchema"><span class="type-signature">(inner, constant) </span>AssetSchema<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line118">line 118</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Status of asset. This can be 'locked' (meaning 
                                                                     locked, but unsecured with no password), 'unlocked' 
                                                                     (meaning anyone with access can do anything), or 
                                                                     a 108 character password, which means the asset 
                                                                     is 'secured'</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_createdBy</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Reference to a document in the Account collection 
                                                                     of the user who created the asset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_updatedBy</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Reference to a document in the Account collection 
                                                                     of whoever updated the asset last</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attrCache</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~Schema">module:AssetModel~Schema</a></span>


            
            </td>

            

            

            <td class="description last">This is a sub-schema with no format or property 
                                                                     restrictions, it via Asset/AttrCache middleware 
                                                                     plugin, which updates it via the documents 'save' 
                                                                     event)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a>></span>


            
            </td>

            

            

            <td class="description last">Array of documents containing the assets attributes 
                                                                     and values</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes[]._field</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Reference to the attributes field document</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes[].value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">Value of the attribute</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_partition</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-PartitionModel.html#~ObjectId">module:PartitionModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Reference document to the parent partition (Assets 
                                                                     are associated to the partitions, not the other 
                                                                     way around)</td>
        </tr>

    
    </tbody>
</table>






<div class="description">
    Asset Mongoose Schema
</div>








        
            
<h4 class="name" id="~Schema"><span class="type-signature">(inner, constant) </span>Schema<span class="type-signature"> :Object</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://mongoosejs.com/docs/guide.html">Mongoose Schema</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description">
    Reference to the Mongoose Schema object
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>






        
            
<h4 class="name" id="~Types"><span class="type-signature">(inner, constant) </span>Types<span class="type-signature"> :Mongoose.Types</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://mongoosejs.com/docs/schematypes.html">Mongoose Schema Types</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description">
    Reference to the Mongoose Types object
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Mongoose.Types</span>


        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".create"><span class="type-signature">(static) </span>create<span class="signature">(partitionId, attrsOrCb<span class="signature-attributes">opt, nullable</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    <ul class="method-aliases">
        <li class="alias-prefix">Alias</li> 
        
        <li class="alias" name="module:AssetModel.createAsset">module:AssetModel.createAsset</li>
        
    </ul>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line966">line 966</a>
    </li></ul></dd>
    

    
    <dt class="tag-alias">Alias:</dt>
    <dd class="tag-alias"><ul class="dummy"><li>module:AssetModel.createAsset</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Validate the asset attributes against the partition field settings</li>
        
            <li>Validate the partition ID exists (by getting the data)</li>
        
            <li>Use above data to verify the primary attibute is populated</li>
        </ul>
    </dd>
    
</dl>





<div class="description">
    Create one or multiple assets, associating them to the specified partition. This is much easier than inserting 
a new asset document manually, since the `attributes` parameter here can be a simple object, (or an array of 
objects for multiple assets), and the static/dynamic attributes are extracted by grabbing the partition fields 
and parsing the object
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// Create a single asset without any attribute values defined
 AssetModel.create( PartitionsObjectId )
     .then( assetDoc => {
         console.log( `The asset ${assetDoc.identifier} was successfully created` ) 
         // => The asset 56a3e5c72b46691213a8f319 was successfully created
     })
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>

    <pre class="prettyprint source linenums"><code>// Create a single asset in a partition with the primary field 'primaryAttr', using a callback
 AssetModel.create( PartitionsObjectId, {
     primaryAttr: 'asset-123', // Primary (string) attribute (Providing callback function)
     booleanAttr: false,       // Boolean attribute
     numericAttr: 123          // Numeric attribute
 })
     .then( assetDocs => {
         console.log( `The asset ${assetDoc.identifier} was successfully created` ) 
         // => The asset asset-123 was successfully created
     })
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>

    <pre class="prettyprint source linenums"><code>// Create two assets
 AssetModel.create( PartitionsObjectId, [{
     stringAttr: 'Asset #1', // String attribute
     booleanAttr: false,     // Boolean attribute
     numericAttr: 123        // Numeric attribute
 },{
     stringAttr: 'Asset #2', // String attribute
     booleanAttr: true,      // Boolean attribute
     numericAttr: 456        // Numeric attribute
 }])
     .then( assetDocs => {
         console.log( `The assets ${_.size( assetDocs )} were successfully created` ) 
         // => The assets _____ were successfully created
     })
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>partitionId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The MDB ObjectId of the partition the assets 
                                                                      should be associated to</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attrsOrCb</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>
|

<span class="param-type">object</span>
|

<span class="param-type"><a href="module-AssetModel.html#~createCb">module:AssetModel~createCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">An object of the attribute values (static and 
                                                                      dynamic attrs), or an array of objects (for 
                                                                      multiple assets), or undefined for empty 
                                                                      attribute values.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~createCb">module:AssetModel~createCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to fire when the assets are successfully 
                                                                      or unsuccessfully created (If undefined, then a 
                                                                      Promise will be returned from this method)</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a Bluebird promise, unless a callback is specified
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".delete"><span class="type-signature">(static) </span>delete<span class="signature">(options, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    <ul class="method-aliases">
        <li class="alias-prefix">Aliases</li> 
        
        <li class="alias" name="module:AssetModel.deleteAsset">module:AssetModel.deleteAsset</li>
        
        <li class="alias" name="module:AssetModel.deleteAssets">module:AssetModel.deleteAssets</li>
        
    </ul>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1889">line 1889</a>
    </li></ul></dd>
    

    
    <dt class="tag-alias">Aliases:</dt>
    <dd class="tag-alias"><ul class="dummy"><li>module:AssetModel.deleteAsset, module:AssetModel.deleteAssets</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Determine what data is handed to the promise (last asset document data? asset ID? nothing?)</li>
        </ul>
    </dd>
    
</dl>





<div class="description">
    Delete one or more assets by the Asset ObjectIds, unlike the Partition models delete method, this doesn't
require a Partition object
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// Delete a single asset (handled as a promise) via the asset ID
 AssetModel.delete( '56d0819b655baf4a4a7f9cad' )
     .then( data => {
         console.log( `Deleted ....??` )
         // => Deleted
     })
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>

    <pre class="prettyprint source linenums"><code>// Delete two assets (handled as a promise) via one asset ID and one asset primary value
 AssetModel.delete( [
     '56d0819b655baf4a4a7f9cad', 'asset-123'
 ] )
     .then( data => {
         console.log( `Deleted ....??` )
         // => Deleted
     })
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>

    <pre class="prettyprint source linenums"><code>// Same as previous example, except the options parameter is an object, and a comment is specified
 AssetModel.delete( {
     assetIds : [ '56d0819b655baf4a4a7f9cad', 'asset-123' ],
     comment  : 'Deleting a few assets, because I feel like it'
 })
     .then( data => {
         console.log( `Deleted ....??` )
         // => Deleted
     })
     .catch( error => console.error( 'Error:', error )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">object</span>
|

<span class="param-type">array</span>
|

<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Options with asset ObjectIds and other 
                                                                               options;  A string for a single asset 
                                                                               ObjectId; Or an array of ObjectIds for 
                                                                               multiple assets
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>comment</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Remark on why the asset(s) were deleted</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~deleteStaticCb">module:AssetModel~deleteStaticCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to execute (optional)</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    On success, an array of asset data is returned, if requireDelete is false,
                     and no assets were found/deleted, then null is returned
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".findAsset"><span class="type-signature">(static) </span>findAsset<span class="signature">(criteria, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1846">line 1846</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Find a single asset, this is essentially the same as the static find method, 
except only the first result is returned.
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>





    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Search criteria</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~findAssetCb">module:AssetModel~findAssetCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to fire, or a promise is returned</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Promise returned, or callback executed if provided
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".findAssets"><span class="type-signature">(static) </span>findAssets<span class="signature">(criteria, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1802">line 1802</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Find multiple assets, given specific criteria
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>





    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Search criteria</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~findAssetsCb">module:AssetModel~findAssetsCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to fire, or a promise is returned</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Promise returned, or callback executed if provided
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".findByIdentifier"><span class="type-signature">(static) </span>findByIdentifier<span class="signature">(options, callback)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1215">line 1215</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Should change this so the `options` parameter can accept the same thing as `options.identifier`</li>
        </ul>
    </dd>
    
</dl>





<div class="description">
    Find an asset by its identifier - This isn't much different than the other asset searches, other than it just
specifies the where object for you. If were provided an array of identifiers, then return an object, with the
identifier value as the key, and only return the identifiers that were found to have assets - Meaning if an
identifier was provided and no asset was found for it, then don't return it.
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Find a single ...
 AssetModel.findByIdentifier({ 
     partitionId : 'd8i3nas0p3na1pvg98d763m',
     identifier  : 'webserver.phx.ad' 
 })
     .then( assetDoc => {
         console.log( `Asset found` )
         console.log( `\t Document ObjectId   : ${assetDoc._id.toString()}` )
         console.log( `\t Document Identifier : ${assetDoc.identifier}` )
     } )
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Object with the partition ID and identifier</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Callback to execute, otherwise a promise is returned</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.partitionId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Partition ID (Mongoose doc ObjectId)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.identifier</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>
|

<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Primary field value to search for; A stringnumber will
                                                         search for one asset, an array of strings/number will
                                                         query for multiple</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Promise returned, or callback executed
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".get"><span class="type-signature">(static) </span>get<span class="signature">(assetId, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    <ul class="method-aliases">
        <li class="alias-prefix">Alias</li> 
        
        <li class="alias" name="module:AssetModel.getAssets module:AssetModel.getAsset">module:AssetModel.getAssets module:AssetModel.getAsset</li>
        
    </ul>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1698">line 1698</a>
    </li></ul></dd>
    

    
    <dt class="tag-alias">Alias:</dt>
    <dd class="tag-alias"><ul class="dummy"><li>module:AssetModel.getAssets module:AssetModel.getAsset</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Allow this to work with the assets identifier</li>
        </ul>
    </dd>
    
</dl>





<div class="description">
    Retrieve a specific asset by the asset documents ObjectId.
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// Query for a single Asset document
Asset.getAsset( '56d0819b655baf4a4a7f9cad' )
    .then( data => console.log( 'Result:', data ) )
    .catch( err => console.error( 'Error:', err ) )</code></pre>

    <pre class="prettyprint source linenums"><code>// Query for multiple assets
Asset.getAssets( ['56d0819b655baf4a4a7f9cad','56d0819c655baf4a4a7f9cb4'] , ( err, data ) => {
    if ( err ) throw new Error( err )

    console.log( 'Result:', data )
})</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>assetId</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Assets document Object Id or primary value (If parent 
                                                         partition has one)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~getCb">module:AssetModel~getCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to fire, or a promise is returned</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    Promise returned, or callback executed if provided
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".getPartitionsAssets"><span class="type-signature">(static) </span>getPartitionsAssets<span class="signature">(partition, attributesOrCb<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1590">line 1590</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Retrieve all or one
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>AssetModel.getPartitionsAssets( 'Some Partition Name' )
    .then( assetDocs => console.log( 'Assets:', assetDocs ) )
    .catch( error => console.error( `Error retrieving assets - ${error.message}`))</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>partition</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="module-PartitionModel.html#~ObjectId">module:PartitionModel~ObjectId</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Partition name or partitions ObjectId</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributesOrCb</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Attributes to retrieve, or callback</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to execute (if not treated as 
                                                                         promise)</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    




        
            

    

    <h4 class="name" id=".setIdentifiers"><span class="type-signature">(static) </span>setIdentifiers<span class="signature">(collection, forceIds)</span><span class="type-signature"> &rarr; {object}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1653">line 1653</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    When assets are returned from a query, they are returned as an array of objects. This method can be used to 
restructure the array of objects into an object of objects, with the object keys being the value of the asset
identifiers (so could be an attribute value, or the ObjectId). The asset identifiers are populated by calling the
documents 'identifier' virtual property.
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Query for all assets in a partition, then reconstruct the result from an array of objects (asset 
// documents), to an object of objects, with the asset ID as the object keys
Asset.getPartitionsAssets( '56d0807d66b93cad49dbbbe4' )
.then( assets => {
    // Currently, assets is an array of objects
    return Asset.setIdentifiers( assets )
} )
.then( assets => {
    // After passing the assets array through Asset.setIdentifiers, 
    // assets is now an object of objects, with the asset 
    // identifiers as the object key values
    return console.log( '# RESULT:', assets )
} )
.catch( err => console.error( '# ERROR:',err ) )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>collection</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Collection of assets (Array from a query)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>forceIds</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If this is set to true, then the documents ObjectIds will be used as the object 
                                 keys (as opposed to using the primary attribute value, if available)</td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        This throws an AssetError exception
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="module-AssetModel.html#~AssetException">module:AssetModel~AssetException</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    The restructured object is returned
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="createRevisionHistory"><span class="type-signature"></span>createRevisionHistory<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line370">line 370</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Create an entry in the Revisions collection with a copy of the assets current values
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>





    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~createRevisionCb">module:AssetModel~createRevisionCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to fire (Optional, or promise returned)</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a Bluebird promise, but only if the callback param is undefined
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(commentOrCb<span class="signature-attributes">opt, nullable</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line314">line 314</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Delete an asset - This is meant to be more complicated than just removing the document from the collection, as
there should be certain other actions taken, and if it's a soft delete, just update the doc
</div>









    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// Query for an asset, then delete it (with a comment)
 AssetModel.get( 'asset-123' )
     .then( assetDoc => { return assetDoc.delete( `Deleting asset ${assetDoc.identifier} (duplicate)`) })
     .then( data => console.log( 'Asset successfully deleted' ) )
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>

    <pre class="prettyprint source linenums"><code>// Query for an asset, then delete it (without a comment)
 AssetModel.get( 'asset-123' )
     .then( assetDoc => assetDoc.delete )
     .then( data => console.log( 'Asset successfully deleted' ) )
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>commentOrCb</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="module-AssetModel.html#~deleteInstCb">module:AssetModel~deleteInstCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Any comment to add for the logs, such as why 
                                                                     the asset was deleted</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~deleteInstCb">module:AssetModel~deleteInstCb</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Callback to fire when asset gets deleted 
                                                                     successfully (If undefined, then a Promise 
                                                                     will be returned from this method)</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a Bluebird promise, but only if the callback param is undefined
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="lastRevision"><span class="type-signature"></span>lastRevision<span class="signature">(callback<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {Promise}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line693">line 693</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Get the latest revision of an asset, that is NOT the current revision. This will search for all documents in the
revision table with the _asset ID of this asset, then sort it by the revision, and exclude the current
revision (__v value), then limit the responses to one document.
</div>







    <h5>This:</h5>
    <ul><li><a href="module-AssetModel.html">module:AssetModel</a></li></ul>



    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Retrieve an asset document, query for the latest revision, then restore it (as a promise)
 AssetModel.getAsset( assetIdentifier )
     .then( assetDoc => assetDoc.lastRevision )
     .then( revisionDoc => revisionDoc.restore )
     .then( data => console.log( `Revision ID ${data.revision._id} restored to Asset ${data.asset._id}` ) )
     .catch( error => console.error( `Error: ${error}` ) )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~lastRevisionCb">module:AssetModel~lastRevisionCb</a></span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Callback to execute, or promise returned if undefined</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="~delete"><span class="type-signature">(inner) </span>delete<span class="signature">()</span><span class="type-signature"> &rarr; {boolean|object}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line848">line 848</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Delete the attribute from the asset (in memory)
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    If there was an error removing it for some reason, then `false` is returned;
                             If the single attribute was deleted, return the attribute itself
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="~set"><span class="type-signature">(inner) </span>set<span class="signature">(value)</span><span class="type-signature"> &rarr; {void}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line838">line 838</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Set the attributes value in memory
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Mixed</span>


            
            </td>

            

            

            <td class="description last">New value of attribute</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    Nothing to return..
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="~value"><span class="type-signature">(inner) </span>value<span class="signature">(full)</span><span class="type-signature"> &rarr; {Mixed|object}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line880">line 880</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Retrieve attributes value
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>full</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">If true, then the entire attribute will be returned (should be populated)</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    If not full, attr value returned (mixed); If full, full attr returned (object)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Mixed</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    


        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~createCb"><span class="type-signature"></span>createCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1162">line 1162</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback executed when a Asset document is created and added to the MDB collection
</div>









    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// Create a single asset without any attribute values defined
 AssetModel.create( PartitionsObjectId, ( error, assetDoc ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `The asset ${assetDoc.identifier} was successfully created` ) 
     // => The asset 56a3e5c72b46691213a8f319 was successfully created
 })</code></pre>

    <pre class="prettyprint source linenums"><code>// Create a single asset in a partition with the primary field 'primaryAttr', using a callback
 AssetModel.create( PartitionsObjectId, {
     primaryAttr: 'asset-123',   // Primary (string) attribute (Providing callback function)
     booleanAttr: false,         // Boolean attribute
     numericAttr: 123            // Numeric attribute
 }, ( error, assetDoc ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `The asset ${assetDoc.identifier} was successfully created` ) 
     // => The asset asset-123 was successfully created
 })</code></pre>

    <pre class="prettyprint source linenums"><code>// Create two assets
 AssetModel.create( PartitionsObjectId, [{
     stringAttr: 'Asset #1', // String attribute
     booleanAttr: false,     // Boolean attribute
     numericAttr: 123        // Numeric attribute
 },{
     stringAttr: 'Asset #2', // String attribute
     booleanAttr: true,      // Boolean attribute
     numericAttr: 456        // Numeric attribute
 }], ( error, assetDocs ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `The asset ${assetDoc.identifier} was successfully created` ) 
     // => The asset asset-123 was successfully created
 })</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">MDB document of the newly created Asset
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_partition</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">ID of partition document this asset is associated to</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~createRevisionCb"><span class="type-signature"></span>createRevisionCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line385">line 385</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback executed when the assets document revision history entry is created
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Document containing any
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">ID of the new revision entry</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~deleteInstCb"><span class="type-signature"></span>deleteInstCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line346">line 346</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Determine what the 'data' value for the callback should be</li>
        </ul>
    </dd>
    
</dl>





<div class="description">
    Callback executed when an asset document is created.
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Query for an asset (providing callback function and no comment)
 AssetModel.get( 'asset-123', ( error, assetDoc ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `Asset ${assetDoc.identifier} status: ${assetDoc.status}` )
     // => Asset asset-123 status: unlocked
 })</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Uhm... not sure
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fooBar</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Baz quux</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~deleteStaticCb"><span class="type-signature"></span>deleteStaticCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line2017">line 2017</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Determine what data is handed to the data parameter</li>
        </ul>
    </dd>
    
</dl>





<div class="description">
    Callback executed when static method module:AssetModel.delete is executed and provided a callback
</div>









    <h5>Examples</h5>
    
    <pre class="prettyprint source linenums"><code>// Delete one asset, using the assets ObjectId
 AssetModel.delete( '56d0819b655baf4a4a7f9cad', ( error, data ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `Deleted ....??` )
     // => Deleted
 } )</code></pre>

    <pre class="prettyprint source linenums"><code>// Delete two assets (handled as a callback) via the primary value for one, and ObjectId for the other asset
 AssetModel.delete( [
     '56d0819b655baf4a4a7f9cad', 'asset-123'
 ], ( error, data ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `Deleted ....??` )
     // => Deleted
 } )</code></pre>

    <pre class="prettyprint source linenums"><code>// Same as previous example, except the options parameter is an object, and a comment is specified
 AssetModel.delete( {
     assetIds : [ '56d0819b655baf4a4a7f9cad', 'asset-123' ],
     comment  : 'Deleting a few assets, because I feel like it'
 }, ( error, data ) => {
     if ( error ) 
         return console.error( `Error: ${error}` )

     console.log( `Deleted ....??` )
     // => Deleted
 } )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">MDB document of the newly created Asset</td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~findAssetCb"><span class="type-signature"></span>findAssetCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1865">line 1865</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback executed when a single asset document is queried via the static <a href="module-AssetModel.html#.findAsset">findAsset</a> 
method
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Create a single asset without any attribute values defined
 AssetModel.findAsset( 'd8i3nas0p3na1pvg98d763m', ( error, assetDoc ) =>{
     if ( error )
         return console.error( 'Error:', error )
     
     console.log( 'Asset Returned:', assetDoc.identifier )
     // => Asset Returned: d8i3nas0p3na1pvg98d763m
 } )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">MongoDb document of Asset found, or null if none found
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Asset ID</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~findAssetsCb"><span class="type-signature"></span>findAssetsCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1820">line 1820</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback executed when one or more asset documents are returned from the static AssetSchema.find method
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Find all unlocked assets in the partition with the ID a8icnasdp3ng1pve98dg63c
 AssetModel.findAssets( { 
     _partition: 'a8icnasdp3ng1pve98dg63c',
      status: 'unlocked' 
 }, ( error, assetDocs ) =>{
     if ( error )
         return console.error( 'Error:', error )
     
     console.log( 'Number of Asset Returned:', _.size( assetDocs ) )
     // => Number of Asset Returned: 12
 } )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">MongoDb document of Asset found, or null if none found
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Asset ID</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~getCb"><span class="type-signature"></span>getCb<span class="signature">(error<span class="signature-attributes">nullable</span>, data<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line1776">line 1776</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback executed when a single asset document is queried via the static AssetSchema.get method. The 'data'
parameter can be either an object (for a single asset), or an array (for multiple). This depends solely on asset
ID or IDs was provided - If an array of asset ID's was provided, then this will be an array of asset documents 
(even if only one of the asset ID's was found).
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Create a single asset without any attribute values defined
 AssetModel.get( 'd8i3nas0p3na1pvg98d763m', ( error, data ) =>{
     if ( error )
         return console.error( 'Error:', error )
     
     console.log( 'Asset Returned:', data.identifier )
     // => Asset Returned: d8i3nas0p3na1pvg98d763m
 } )</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">MongoDb document of Asset found, or null if none found
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">Asset ID</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                

    

    <h4 class="name" id="~lastRevisionCb"><span class="type-signature"></span>lastRevisionCb<span class="signature">(error<span class="signature-attributes">nullable</span>, revisionDoc<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {function}</span>
    
    </h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line732">line 732</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    Callback executed when an assets latest revision is queried
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>// Query for an asset, then query for the assets latest revision, and output the ObjectId
 AssetModel.getAsset( 'asset-1234', ( assetError, assetDoc ) => {
     if ( assetError )
         return console.error( `Error: ${assetError}` )

     assetDoc.lastRevision( ( revisionError, revisionDoc ) => {
         if ( revisionError )
             return console.error( `Error: ${revisionError}` )

         if ( ! revisionDoc )
             return console.log( `No previous revisions found for Asset ${assetDoc.identifier}` )

         console.log( `The last revision ID for Asset ${assetDoc.identifier} is ${revisionDoc._id}` )
         // => The last revision ID for Asset asset-1234 is 46d0h19d655caf4a4a7f9xaa
     })
 })</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Exception</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Error that was thrown, or null for no error</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>revisionDoc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">Document containing the last revision, or Null if none found
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-AssetModel.html#~ObjectId">module:AssetModel~ObjectId</a></span>


            
            </td>

            

            

            <td class="description last">ID of the revision document</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    


            
                
<h4 class="name" id="~ObjectId">ObjectId</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="models_Asset.js.html">models/Asset.js</a>, <a href="models_Asset.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://mongoosejs.com/docs/api.html#schema-objectid-js">Mongoose ObjectId reference</a></li>
        
            <li><a href="https://docs.mongodb.com/manual/reference/method/ObjectId/"> MongoDB ObjectId reference</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description">
    The ObjectId of a Mongoose document.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





    <h5>Example</h5>
    
    <pre class="prettyprint source linenums"><code>Mongooses ObjectId type is an (lowercase)alpha/numeric string 24 character in length, 
for example: 507f191e810c19729de860ea</code></pre>



            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jun 27 2017 11:28:17 GMT-0700 (MST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>